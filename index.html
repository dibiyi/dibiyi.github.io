<!DOCTYPE html>
<html>
<head>
<title>dby's bar</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/minor.css">
<link rel="icon" href="photo/logo.png" type="image/png">
<style>
body,h1,h2,h3,h4,h5,h6 {font-family: "Karma", sans-serif}
.w3-bar-block .w3-bar-item {padding:20px}
</style>
</head>
<body>

<!-- Sidebar -->
<nav class="w3-sidebar w3-bar-block w3-card w3-top w3-xlarge w3-animate-left" style="display:none;z-index:10;width:25%;min-width:200px" id="mySidebar">
  <a href="javascript:void(0)" onclick="w3_close()" class="w3-bar-item w3-button">☰</a>
  <a href="Recipe.html" onclick="w3_close()" class="w3-bar-item w3-button">Recipe</a>
  <a href="Cocktails.html" onclick="w3_close()" class="w3-bar-item w3-button">Cocktails</a>
</nav>


<!-- Top menu -->
<div class="w3-top">
  <div class="w3-white w3-xlarge" style="max-width:1200px;margin:auto">
    <div class="w3-button w3-padding-16 w3-left" id="menuBtn">☰</div>
    <div class="w3-right w3-padding-16"><img src="photo/logo.png" alt="Logo" style="height:40px;"></div>
    <div class="w3-center w3-padding-16">My Food</div>
  </div>
</div>



<!-- !PAGE CONTENT! -->
<hr id="food">
<div class="w3-main w3-content w3-padding w3-center" style="max-width:1200px;margin-top:100px">

<hr id="Recipe">
<!-- First Photo Grid with sliding functionality -->

<div class="container">
  <div class="center"><h3>Recipe</h3></div>
  <div class="right"><a href="Recipe.html" class="readmore">Read more</a></div>
</div>

<div class="container carousel-container">
  <!-- 左边的按钮 -->

  <button class="carousel-button left" onclick="scrollLeft_own('carouselWrapper1')">❮</button>

  <div class="carousel-wrapper" id="carouselWrapper1">
    <div class="carousel-item">
      <img src="photo/luobo.jpeg" alt="white-lady" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/luobodunniurou.html" class="dby-link"><h3>萝卜炖牛腩</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>
    <div class="carousel-item">
      <img src="photo/dapanji.jpg" alt="white-lady" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/dapanji.html" class="dby-link"><h3>大盘鸡</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>
    <div class="carousel-item">
      <img src="photo/tangcu.jpg" alt="white-lady" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/tangcupaigu.html" class="dby-link"><h3>糖醋排骨</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>
    <div class="carousel-item">
      <img src="photo/ganguoji.jpg" alt="white-lady" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/ganguoji.html" class="dby-link"><h3>干锅鸡</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>

    <div class="carousel-item">
      <img src="photo/luobo.jpeg" alt="white-lady" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/luobodunniurou.html" class="dby-link"><h3>萝卜炖牛腩</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>
    <div class="carousel-item">
      <img src="photo/dapanji.jpg" alt="white-lady" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/dapanji.html" class="dby-link"><h3>大盘鸡</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>
    <div class="carousel-item">
      <img src="photo/tangcu.jpg" alt="white-lady" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/tangcupaigu.html" class="dby-link"><h3>糖醋排骨</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>
    <div class="carousel-item">
      <img src="photo/ganguoji.jpg" alt="white-lady" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/ganguoji.html" class="dby-link"><h3>干锅鸡</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>
  </div>

  <!-- 右边的按钮 -->
  <button class="carousel-button right" onclick="scrollRight_own('carouselWrapper1')">❯</button>
</div>

<hr id="Cocktails">

<div class="container">
  <div class="center"><h3>Cocktails</h3></div>
  <div class="right"><a href="Cocktails.html" class="readmore">Read more</a></div>
</div>

<!-- Second Photo Grid with sliding functionality -->
<div class="container carousel-container">
  <!-- 左边的按钮 -->
  <button class="carousel-button left" onclick="scrollLeft_own('carouselWrapper2')">❮</button>

  <div class="carousel-wrapper" id="carouselWrapper2">
    <div class="carousel-item">
      <img src="photo/white-lady.jpg" alt="White Lady" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/whitelady.html" class="dby-link"><h3>White lady</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>
    <div class="carousel-item">
      <img src="photo/gintonic.jpg" alt="Gin Tonic" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/Gintonic.html" class="dby-link"><h3>Gin Tonic</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>
    <div class="carousel-item">
      <img src="photo/classic-martini.jpg" alt="Classic Martini" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/classicmartini.html" class="dby-link"><h3>Classic Martini</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>
    <div class="carousel-item">
      <img src="photo/manhattan.jpg" alt="Manhattan" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/manhattan.html" class="dby-link"><h3>Manhattan</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum。</p>
    </div>

    <div class="carousel-item">
      <img src="photo/white-lady.jpg" alt="White Lady" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/whitelady.html" class="dby-link"><h3>White lady</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>
    <div class="carousel-item">
      <img src="photo/gintonic.jpg" alt="Gin Tonic" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/Gintonic.html" class="dby-link"><h3>Gin Tonic</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>
    <div class="carousel-item">
      <img src="photo/classic-martini.jpg" alt="Classic Martini" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/classicmartini.html" class="dby-link"><h3>Classic Martini</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum.</p>
    </div>
    <div class="carousel-item">
      <img src="photo/manhattan.jpg" alt="Manhattan" style="width:100%; aspect-ratio: 1 / 1;">
      <a href="html/manhattan.html" class="dby-link"><h3>Manhattan</h3></a>
      <p>Just some random text, lorem ipsum text praesent tincidunt ipsum lipsum。</p>
    </div>
  </div>

  <!-- 右边的按钮 -->
  <button class="carousel-button right" onclick="scrollRight_own('carouselWrapper2')">❯</button>
</div>

</div>


<script>
// 用于存储每个轮播的当前滚动位置
var scrollPositions = {
  'carouselWrapper1': 0,
  'carouselWrapper2': 0
};

// 初始化函数（可选）
function initCarousel(wrapperId) {
  const wrapper = document.getElementById(wrapperId);
  scrollPositions[wrapperId] = 0;
  wrapper.style.transform = `translateX(0px)`;
}

// 左滑动函数，将第一张图片移到最后一张
function scrollLeft_own(wrapperId) {
  const wrapper = document.getElementById(wrapperId);
  const items = wrapper.querySelectorAll('.carousel-item');

  // 将最后一张图片插入到第一张前面，实现类似循环效果
  wrapper.insertBefore(items[items.length - 1], items[0]);

  // 立即重置滑动位置，使其无缝衔接
  wrapper.style.transition = "none";
  wrapper.style.transform = `translateX(-${getItemWidth(wrapperId)}px)`;

  // 然后再使用动画滑动到正确的位置
  setTimeout(() => {
    wrapper.style.transition = "transform 0.5s ease";
    wrapper.style.transform = `translateX(0px)`;
  }, 20); // 设置一个微小的延迟来触发动画效果
}

// 右滑动函数，将第一张图片移到最后一张
function scrollRight_own(wrapperId) {
  const wrapper = document.getElementById(wrapperId);
  const items = wrapper.querySelectorAll('.carousel-item');

  // 设置过渡动画
  wrapper.style.transition = "transform 0.5s ease";
  wrapper.style.transform = `translateX(-${getItemWidth(wrapperId)}px)`;

  // 等到动画结束后，将第一张图片移到最后，实现无缝衔接
  setTimeout(() => {
    wrapper.appendChild(items[0]); // 将第一张图片移动到最后
    wrapper.style.transition = "none"; // 取消动画过渡效果
    wrapper.style.transform = `translateX(0px)`; // 重置滑动位置
  }, 500); // 设置延迟与动画时间相同
}

// 获取每个项目的宽度
function getItemWidth(wrapperId) {
  const wrapper = document.getElementById(wrapperId);
  return wrapper.querySelector('.carousel-item').offsetWidth;
}

// 初始化轮播（如果需要）
initCarousel('carouselWrapper1');
initCarousel('carouselWrapper2');

// 打开侧边栏
function w3_open() {
  document.getElementById("mySidebar").style.display = "block";
}

// 关闭侧边栏
function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
}

// 防止点击菜单按钮时触发关闭事件
document.getElementById('menuBtn').addEventListener('click', function(event) {
  event.stopPropagation(); // 阻止点击传播，防止菜单关闭
  w3_open(); // 打开菜单
});

// 检测点击事件，点击空白区域时关闭侧边栏
document.addEventListener('click', function(event) {
  var sidebar = document.getElementById("mySidebar");
  var menuBtn = document.getElementById("menuBtn");
  // 如果侧边栏是打开的，且点击不在侧边栏和菜单按钮内部，则关闭侧边栏
  if (sidebar.style.display === "block" && !sidebar.contains(event.target) && !menuBtn.contains(event.target)) {
    w3_close();
  }
});

// 防止点击菜单栏内部时关闭
document.getElementById("mySidebar").addEventListener('click', function(event) {
  event.stopPropagation(); // 阻止点击传播，防止菜单栏内点击触发关闭
});

</script>

</body>
</html>
